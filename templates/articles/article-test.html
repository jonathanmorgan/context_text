{% extends "base.html" %}

{% block title %}Code Article{% endblock %}

{%block inside-head %}
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
<script src="/static/sourcenet/angular/coding/app.js"></script>
<script src="/static/sourcenet/angular/coding/main.ctrl.js"></script>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.selection/1.0.1/jquery.selection.min.js"></script>
{% endblock %}

{% block content %}

    <h1>Code article</h1>
    
    {# got an output_string? #}
    {% if output_string %}
    
        <div id="article_message" name="article_message" style="background-color: yellow; border: 1px solid black;">
            <p>{{ output_string }}</p>
        </div>
    
    {% endif %}
    
    <div id="article_form" name="article_form">
        
        <form action="" method="post">
    
            {# always include CSRF token #}
            {% csrf_token %}
                
            <p>
                {# output article lookup form #}
                {{ article_lookup_form }}
            </p>
                
            <p>
                <input type="submit" />
            </p>
            
        </form>
        
    </div>
    
    {% if article_instance %}
    
{% verbatim %}
        <hr />
        <div ng-app="sourcenet_coding" ng-controller="MainController as main">

            <p>
                Title: 
                    {{ main.title }}
                <br />
                <br />
                <input type="text" class="form-control" ng-model="main.searchInput">
                <br />
                <br />
                
            </p>
            <p>{{ main.searchInput }}</p>
                    
            <h3>A list of TV shows</h3>
            <ul class="list-group">
                <li class="list-group-item" ng-repeat="show in main.shows | filter:main.searchInput | orderBy:main.order.key:main.order.reverse"><span ng-if="show.favorite">FAV  </span>{{show.title}} <span class="badge">{{show.year}}</span></li>
            </ul>
            
            <select ng-model="main.order" ng-options="order as order.title for order in main.orders"></select>
        
        </div>
{% endverbatim %}

        <hr />
        <div id="article_view" name="article_view">
            <h3>Article {{ article_instance.id }} - {{ article_instance.headline }}</h3>
            {{ article_text.get_content|safe }}
        </div>

    {% endif %}

{% endblock %}